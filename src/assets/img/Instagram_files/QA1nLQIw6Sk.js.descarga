;/*FB_PKG_DELIM*/

__d("PolarisAPIDeleteCollection",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/collections/{collection_id}/delete/",{path:{collection_id:a}})}g.deleteCollection=a}),98);
__d("PolarisAPIFetchSavedCollection",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisInstapi").apiGet("/api/v1/feed/collection/{collection_id}/all/",{path:{collection_id:a},query:{max_id:b}}).then(function(a){return a.data})}g.fetchSavedCollection=a}),98);
__d("PolarisSavedCollectionFastOptionsButton.react",["fbt","IGDSMoreHorizontalPanoOutlineIcon.react","PolarisIGCoreSVGIconButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Editar opciones");function a(a){var b=d("react-compiler-runtime").c(3);a=a.onClick;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:k,color:"ig-primary-text"}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:a,padding:0,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("PolarisCollectionPageLayout.react",["IGDSBox.react","IGDSChevronIcon.react","IGDSSpinner.react","IGDSTextVariants.react","PolarisFastLink.react","PolarisGenericStrings","PolarisLinkBuilder","PolarisReactRedux.react","PolarisSavedCollectionFastOptionsButton.react","PolarisSavedCollectionStrings","PolarisSavedPostsTypes","PolarisUA","polarisUserSelectors","react","react-compiler-runtime","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=1030,k=d("PolarisUA").isDesktop(),l=[d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION,d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.AUDIO_AUTO_COLLECTION];function a(a){var b=d("react-compiler-runtime").c(13),e=a.children,f=a.collectionId,g=a.collectionLoading,h=a.collectionName,m=a.setShowOptions,n=a.userId;a=c("usePolarisDisplayProperties")();a=a.viewportWidth;a=a<j;var o;b[0]!==n?(o=function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,n)},b[0]=n,b[1]=o):o=b[1];o=d("PolarisReactRedux.react").useSelector(o);var p;b[2]!==o.username?(p=o.username!=null?d("PolarisLinkBuilder").buildUserPathLink(o.username,"saved"):!1,b[2]=o.username,b[3]=p):p=b[3];o=p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x1iyjqo2 x2lah0s xln7xf2 xk390pu xdj266r x11t971q x4n8cb0 xvc5jky x1ykew4q xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf xh8yej3"},b[4]=p):p=b[4];b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h||b[9]!==a||b[10]!==o||b[11]!==m?(p=i.jsx("div",babelHelpers["extends"]({},p,{children:g?i.jsx(c("IGDSBox.react"),{marginTop:16,position:"relative",children:i.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"})}):i.jsxs(c("IGDSBox.react"),{marginTop:6,position:"relative",children:[k&&o&&i.jsx(c("IGDSBox.react"),{alignItems:"start",flex:"grow",marginBottom:4,position:"relative",children:i.jsx(c("PolarisFastLink.react"),{href:o,children:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[i.jsx(c("IGDSChevronIcon.react"),{alt:d("PolarisGenericStrings").BACK_TEXT,color:"ig-secondary-text",direction:"back",size:18}),i.jsx(c("IGDSBox.react"),{padding:1,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",children:d("PolarisSavedCollectionStrings").SAVED_TEXT})})]})})}),i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:3,position:"relative",children:[i.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:i.jsx(c("IGDSBox.react"),{alignItems:"stretch",marginEnd:a?4:0,marginStart:a?4:0,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextTitle,{children:h})})}),i.jsx(c("IGDSBox.react"),{position:"relative",children:l.indexOf(f)===-1&&m!=null&&k&&i.jsx(c("PolarisSavedCollectionFastOptionsButton.react"),{onClick:function(){return m(!0)}})})]}),e]})})),b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=a,b[10]=o,b[11]=m,b[12]=p):p=b[12];return p}g["default"]=a}),98);
__d("PolarisEditCollectionModal.react",["IGCoreDialog.react","IGCoreModal.react","IGDSBox.react","PolarisGenericStrings","PolarisIGCoreModalHeader.react","PolarisIGCoreTextInput.react","PolarisLinkBuilder","PolarisReactRedux.react","PolarisSavedCollectionStrings","PolarisSavedPostsActionEditCollection","PolarisUrlHelpers","Promise","browserHistory_DO_NOT_USE","nullthrows","react","react-compiler-runtime","usePolarisShowToast","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState;function a(a){var e=d("react-compiler-runtime").c(26),f=a.collectionId,g=a.currentCollectionName,i=a.onClose,l=a.pageIdentifier,m=d("PolarisReactRedux.react").useDispatch(),n=c("usePolarisShowToast")();a=k(g);var o=a[0],p=a[1];g=k(!1);a=g[0];var q=g[1];g=c("usePolarisViewer")();var r;e[0]!==g?(r=c("nullthrows")(g),e[0]=g,e[1]=r):r=e[1];var s=r;g=o.replace(/\s+/g,"").length===0;e[2]!==f||e[3]!==m||e[4]!==o||e[5]!==i||e[6]!==l||e[7]!==n||e[8]!==s.id||e[9]!==s.username?(r=function(){q(!0),(h||(h=b("Promise"))).resolve(m(d("PolarisSavedPostsActionEditCollection").editCollection({collectionId:f,collectionName:o,source:l,userId:s.id}))).then(function(){q(!1);var a=d("PolarisLinkBuilder").buildUserSavedCollectionLink(c("nullthrows")(s.username),d("PolarisUrlHelpers").slugify(o),f);d("browserHistory_DO_NOT_USE").browserHistory.replace(a);i()})["catch"](function(){q(!1),n({text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE})})},e[2]=f,e[3]=m,e[4]=o,e[5]=i,e[6]=l,e[7]=n,e[8]=s.id,e[9]=s.username,e[10]=r):r=e[10];r=r;var t;e[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=j.jsx(c("IGDSBox.react"),{padding:4,position:"relative",children:d("PolarisSavedCollectionStrings").EDIT_COLLECTION_TEXT}),e[11]=t):t=e[11];e[12]!==i?(t=j.jsx(c("PolarisIGCoreModalHeader.react"),{onClose:i,children:t}),e[12]=i,e[13]=t):t=e[13];var u;e[14]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(a){return p(a.target.value)},e[14]=u):u=e[14];e[15]!==o?(u=j.jsx(c("IGDSBox.react"),{margin:5,position:"relative",children:j.jsx(c("PolarisIGCoreTextInput.react"),{autoFocus:!0,name:"collectionName",onChange:u,placeholder:d("PolarisSavedCollectionStrings").COLLECTION_NAME_TEXT,value:o})}),e[15]=o,e[16]=u):u=e[16];g=g||a;var v;e[17]!==r||e[18]!==a||e[19]!==g?(v=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",disabled:g,loading:a,onClick:r,children:d("PolarisGenericStrings").DONE_TEXT}),e[17]=r,e[18]=a,e[19]=g,e[20]=v):v=e[20];e[21]!==i||e[22]!==t||e[23]!==u||e[24]!==v?(r=j.jsxs(c("IGCoreModal.react"),{"aria-label":d("PolarisSavedCollectionStrings").EDIT_COLLECTION_TEXT,onClose:i,children:[t,u,v]}),e[21]=i,e[22]=t,e[23]=u,e[24]=v,e[25]=r):r=e[25];return r}g["default"]=a}),98);
__d("PolarisSavedCollectionPageOptionsDialog.react",["IGCoreDialog.react","PolarisGenericStrings","PolarisSavedCollectionStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),c=a.onAddFromSaved,e=a.onClose,f=a.onDeleteCollection;a=a.onEditCollection;var g;b[0]!==f?(g=f!=null&&i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:f,children:d("PolarisSavedCollectionStrings").DELETE_COLLECTION_TEXT}),b[0]=f,b[1]=g):g=b[1];b[2]!==c?(f=c!=null&&i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:c,children:d("PolarisSavedCollectionStrings").ADD_FROM_SAVED_TEXT}),b[2]=c,b[3]=f):f=b[3];b[4]!==a?(c=a!=null&&i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:a,children:d("PolarisSavedCollectionStrings").EDIT_COLLECTION_TEXT}),b[4]=a,b[5]=c):c=b[5];b[6]!==e?(a=i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:e,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[6]=e,b[7]=a):a=b[7];var h;b[8]!==e||b[9]!==g||b[10]!==f||b[11]!==c||b[12]!==a?(h=i.jsxs(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:e,children:[g,f,c,a]}),b[8]=e,b[9]=g,b[10]=f,b[11]=c,b[12]=a,b[13]=h):h=b[13];return h}g["default"]=a}),98);
__d("PolarisSavedPostsActionDeleteCollection",["PolarisAPIDeleteCollection","PolarisGenericStrings","PolarisSavedPostsLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,c=a.failureHandler,e=a.source,f=a.successHandler,g=a.userId;return function(a){a({type:"DELETE_COLLECTION_PENDING",userId:g});d("PolarisSavedPostsLogger").logDeleteCollection("attempt",e);return d("PolarisAPIDeleteCollection").deleteCollection(b).then(function(){a({type:"DELETE_COLLECTION_SUCCESS",userId:g}),d("PolarisSavedPostsLogger").logDeleteCollection("success",e),f&&f()})["catch"](function(){a({toast:{text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE},type:"DELETE_COLLECTION_ERRORED",userId:g}),d("PolarisSavedPostsLogger").logDeleteCollection("failure",e),c&&c()})}}g.deleteCollection=a}),98);
__d("PolarisSavedPostsActionRequestTabbedSavedCollection",["PolarisAPIFetchSavedCollection","PolarisGenericStrings","nullthrows","polarisNormalizeCollections","polarisSavedPostsSelectors"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.collectionId,e=a.retryHandler,f=a.userId;return function(a,g){a({collectionId:b,type:"SAVED_TABBED_COLLECTION_LOADING",userId:f});g=d("polarisSavedPostsSelectors").getSavedCollectionsMediaPaginationForUser(g(),{collectionId:b,userId:f});return d("PolarisAPIFetchSavedCollection").fetchSavedCollection(b,g.cursor!=null?g.cursor:"").then(function(b){b=b.save_media_response;var e=d("polarisNormalizeCollections").normalizeTabbedSavedCollection(c("nullthrows")(b));b=c("nullthrows")(b).items.map(function(a){return a.media});a({collection:e,pagination:e.pagination,posts:b,type:"SAVED_TABBED_COLLECTION_UPDATED",userId:f})})["catch"](function(){a({collectionId:b,toast:{actionHandler:e,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT},type:"SAVED_TABBED_COLLECTION_ERRORED",userId:f})})}}function i(a,b){var c=function(){return i(a,b)};return function(d){return d(h({collectionId:a,retryHandler:c,userId:b}))}}g.requestTabbedSavedCollection=i}),98);
__d("PolarisSavedCollectionPage.react",["fbt","IGDSBox.react","PolarisAddCollectionModal.react","PolarisCollectionPageLayout.react","PolarisConfirmDialog.react","PolarisEditCollectionModal.react","PolarisLinkBuilder","PolarisPageMetadata.react","PolarisPostActionAddPostToCollection","PolarisProfileEmptyState.react","PolarisProfileEmptyStateTypes","PolarisProfileMediaBrowser.react","PolarisReactRedux.react","PolarisSavedCollectionPageOptionsDialog.react","PolarisSavedPostsActionDeleteCollection","PolarisSavedPostsActionRequestSavedCollectionPosts","PolarisSavedPostsActionRequestTabbedSavedCollection","PolarisShell.react","PolarisUA","browserHistory_DO_NOT_USE","nullthrows","polarisSavedPostsSelectors","polarisUserSelectors","react","react-compiler-runtime","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useState,m="SavedCollectionPage",n=h._(/*BTDS*/"Colecci\u00f3n guardada");function o(a,b){return a===0&&b.moreAvailable&&!b.isFetching}function a(a){var b=d("react-compiler-runtime").c(72),e=a.collectionId,f=a.userId;a=l(!1);var g=a[0],i=a[1];a=l(!1);var r=a[0],s=a[1];a=l(!1);var t=a[0],u=a[1];a=l(!1);var v=a[0],w=a[1];a=l(!1);var x=a[0],y=a[1];a=l(!1);var z=a[0],A=a[1],B=d("PolarisReactRedux.react").useDispatch();b[0]!==f?(a=function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,f)},b[0]=f,b[1]=a):a=b[1];a=d("PolarisReactRedux.react").useSelector(a);var C;b[2]!==a.username?(C=d("PolarisLinkBuilder").buildUserPathLink(c("nullthrows")(a.username),"saved"),b[2]=a.username,b[3]=C):C=b[3];var D=C;C=c("usePolarisDisplayProperties")();C=C.viewportWidth;var E;b[4]!==e||b[5]!==f?(E=function(){return d("PolarisSavedPostsActionRequestSavedCollectionPosts").requestSavedCollectionPosts(e,f)},b[4]=e,b[5]=f,b[6]=E):E=b[6];var F=E;b[7]!==e||b[8]!==f?(E=function(a){return d("polarisSavedPostsSelectors").getSavedCollectionByCollectionIdForUser(a,{collectionId:e,userId:f})},b[7]=e,b[8]=f,b[9]=E):E=b[9];var G=d("PolarisReactRedux.react").useSelector(E);b[10]!==e||b[11]!==f?(E=function(a){return d("polarisSavedPostsSelectors").getVisiblePostsSavedByUserFromCollection(a,{collectionId:e,userId:f})},b[10]=e,b[11]=f,b[12]=E):E=b[12];var H=d("PolarisReactRedux.react").useSelector(E);b[13]!==e||b[14]!==B||b[15]!==D||b[16]!==f?(E=function(){A(!0),B(d("PolarisSavedPostsActionDeleteCollection").deleteCollection({collectionId:e,failureHandler:function(){A(!1)},source:m,successHandler:function(){d("browserHistory_DO_NOT_USE").redirect(D)},userId:f}))},b[13]=e,b[14]=B,b[15]=D,b[16]=f,b[17]=E):E=b[17];E=E;var I,J;b[18]!==G||b[19]!==e||b[20]!==B||b[21]!==f?(I=function(){G==null&&B(d("PolarisSavedPostsActionRequestTabbedSavedCollection").requestTabbedSavedCollection(e,f))},J=[G,e,f,B],b[18]=G,b[19]=e,b[20]=B,b[21]=f,b[22]=I,b[23]=J):(I=b[22],J=b[23]);k(I,J);b[24]!==G||b[25]!==B||b[26]!==H||b[27]!==F?(I=function(){(G==null||o(H?H.length:0,G.pagination))&&B(F())},J=[G,B,H,F],b[24]=G,b[25]=B,b[26]=H,b[27]=F,b[28]=J,b[29]=I):(J=b[28],I=b[29]);k(I,J);I=G==null||G.id===""||H.length===0&&G.pagination.moreAvailable;b[30]===Symbol["for"]("react.memo_cache_sentinel")?(J=d("PolarisUA").isDesktop(),b[30]=J):J=b[30];J=J;var K;b[31]!==e||b[32]!==B?(K=function(a){B(d("PolarisPostActionAddPostToCollection").addPostToCollection({collectionId:e,failureHandler:function(){y(!1)},postIds:a,successHandler:function(){y(!1),s(!1)}}))},b[31]=e,b[32]=B,b[33]=K):K=b[33];var L=K;b[34]!==g?(K=g&&j.jsx(c("PolarisSavedCollectionPageOptionsDialog.react"),{onAddFromSaved:function(){i(!1),s(!0)},onClose:function(){return i(!1)},onDeleteCollection:function(){i(!1),u(!0)},onEditCollection:function(){i(!1),w(!0)}}),b[34]=g,b[35]=K):K=b[35];b[36]!==z||b[37]!==E||b[38]!==t?(g=t&&j.jsx(c("PolarisConfirmDialog.react"),{body:h._(/*BTDS*/"Aunque elimines esta colecci\u00f3n, se conservar\u00e1n las fotos y los v\u00eddeos."),confirmLabel:h._(/*BTDS*/"Eliminar"),destructiveConfirm:!0,onClose:function(){u(!1)},onConfirm:E,requestInFlight:z,title:h._(/*BTDS*/"\u00bfQuieres eliminar la colecci\u00f3n?")}),b[36]=z,b[37]=E,b[38]=t,b[39]=g):g=b[39];b[40]!==G||b[41]!==B||b[42]!==H||b[43]!==F||b[44]!==a||b[45]!==C?(z=H.length>0?j.jsx(c("PolarisProfileMediaBrowser.react"),{isFetching:c("nullthrows")(G).pagination.isFetching,isOldestPostLoaded:!c("nullthrows")(G).pagination.moreAvailable,maxPostsToDisplay:H.length,mediaLinkBuilder:q,onPostImpression:p,onRequestFirst:function(){return B(F())},onRequestNext:function(){return B(F())},posts:H,user:a,viewportWidth:C},"savedCollectionMedia"):j.jsx(c("PolarisProfileEmptyState.react"),{buttonClick:function(){return s(!0)},type:d("PolarisProfileEmptyStateTypes").ProfileEmptyStateKeys.SAVED_COLLECTION}),b[40]=G,b[41]=B,b[42]=H,b[43]=F,b[44]=a,b[45]=C,b[46]=z):z=b[46];b[47]!==x||b[48]!==L||b[49]!==r?(E=r&&J&&j.jsx(c("PolarisAddCollectionModal.react"),{allowEmptySelection:!1,onClose:function(){return s(!1)},onDone:function(a){y(!0),L(a)},requestInFlight:x}),b[47]=x,b[48]=L,b[49]=r,b[50]=E):E=b[50];b[51]!==G||b[52]!==e||b[53]!==v?(t=v&&J&&j.jsx(c("PolarisEditCollectionModal.react"),{collectionId:e,currentCollectionName:c("nullthrows")(G).name,onClose:function(){return w(!1)},pageIdentifier:m}),b[51]=G,b[52]=e,b[53]=v,b[54]=t):t=b[54];b[55]!==K||b[56]!==g||b[57]!==z||b[58]!==E||b[59]!==t?(a=j.jsxs(c("IGDSBox.react"),{position:"relative",children:[K,g,z,E,t]}),b[55]=K,b[56]=g,b[57]=z,b[58]=E,b[59]=t,b[60]=a):a=b[60];C=a;x=G!=null?G.name:n;b[61]!==x?(r=j.jsx(c("PolarisPageMetadata.react"),{id:m,title:x}),b[61]=x,b[62]=r):r=b[62];J=G!=null?G.name:n;b[63]!==C||b[64]!==e||b[65]!==I||b[66]!==J||b[67]!==f?(v=j.jsx(c("PolarisCollectionPageLayout.react"),{collectionId:e,collectionLoading:I,collectionName:J,setShowOptions:i,userId:f,children:C}),b[63]=C,b[64]=e,b[65]=I,b[66]=J,b[67]=f,b[68]=v):v=b[68];b[69]!==r||b[70]!==v?(K=j.jsxs(c("PolarisShell.react"),{pageIdentifier:m,children:[r,v]}),b[69]=r,b[70]=v,b[71]=K):K=b[71];return K}function p(){}function q(a){return d("PolarisLinkBuilder").buildMediaLink(a)}g.PAGE_ID=m;g.SavedCollectionPage=a}),226);
__d("PolarisSavedCollectionsRoot.react",["PolarisProfileActions","PolarisSavedCollectionPage.react","PolarisSavedPostsTypes","react","react-compiler-runtime","usePolarisGetQuerySetup","usePolarisPreloadedGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.props;var e=a.routeParams.collection_id;a=a.routeProps;var f=a.collection_owner_id;a=a.polaris_preload;a=c("usePolarisPreloadedGetQuery")(a.profile);c("usePolarisGetQuerySetup")(a,d("PolarisProfileActions").setupProfilePage);a=e!=null?e:d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION;b[0]!==f||b[1]!==a?(e=i.jsx(d("PolarisSavedCollectionPage.react").SavedCollectionPage,{collectionId:a,userId:f}),b[0]=f,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);